(this.webpackJsonpdreamer_native=this.webpackJsonpdreamer_native||[]).push([[0],{218:function(e,t,a){},219:function(e,t,a){"use strict";a.r(t);var n,c=a(0),o=a.n(c),i=a(24),r=a.n(i),s=a(7),l=a(6),d=a(16),j=a.n(d),u=a(11),b=a(12),f=a(2),h=a(21),O="view_main",g="view_theme",m="panel_main",p="/dream/:target",v="panel_dream",x="/book",y="panel_book",k="/glossary",_="panel_glossary",w="/theme",P="panel_theme",S="popout_error",C="popout_success",B=(n={},Object(h.a)(n,"/",new b.Page(m,O)),Object(h.a)(n,x,new b.Page(y,O)),Object(h.a)(n,p,new b.Page(v,O)),Object(h.a)(n,k,new b.Page(_,O)),Object(h.a)(n,w,new b.Page(P,g)),n),L=new b.Router(B);L.on("update",(function(e,t){e.getPageId(),e.getParams(),e.getPanelId(),e.getViewId(),e.getLocation(),e.isModal(),e.isPopup(),e.hasOverlay(),e.out(),t?console.log("move from page ".concat(t.getLocation()," -> ").concat(e.getLocation())):console.log("enter to page ".concat(e.getLocation()))})),L.start();var z=Object(u.b)({key:"loadingState",default:!1}),A=Object(u.b)({key:"themeState",default:"blue_overlay"}),V=Object(u.b)({key:"statState",default:{moon:{name:"",phase:0},notes:0,dreams:0,notifications:0,is_favorite:0,random:[]}}),I=Object(u.b)({key:"fatalState",default:!1}),N=Object(u.b)({key:"onBoardingState",default:!0}),F=a(20),R=a.n(F),T=a(37),E=a(17),M=a.n(E),D=a(229),W=a(226),K=a(1),G=function(e){var t=e.onChange,a=e.loading,n=e.value;return Object(K.jsx)(f.m,{style:{marginTop:30},children:Object(K.jsx)(f.t,{type:"text",placeholder:"\u0427\u0442\u043e \u0412\u0430\u043c \u043f\u0440\u0438\u0441\u043d\u0438\u043b\u043e\u0441\u044c?",className:"search_input",value:n,after:!a&&n.length?Object(K.jsx)(f.s,{hoverMode:"opacity","aria-label":"\u041e\u0447\u0438\u0441\u0442\u0438\u0442\u044c \u043f\u043e\u043b\u0435",onClick:function(){return t("")},children:Object(K.jsx)(W.a,{})}):a?Object(K.jsx)(f.J,{size:"small"}):null,onChange:function(e){var a=e.target.value;(a=a.replace(/\s\s+/g," ")).length<30&&null!=a.match("^[\u0410-\u042f\u0401\u0430-\u044f\u0451\\s]*$")&&t(a)}})})},H=a(79),J=function(e){var t=new Date(1e3*e),a=t.getDate(),n=t.getMonth(),c=t.getFullYear();return"".concat(a," ").concat(U(n),", ").concat(c)},Y=function(){var e=new Date;return"".concat(e.getDate()," ").concat(U(e.getMonth()))},U=function(e){return 0===e?"\u044f\u043d\u0432\u0430\u0440\u044f":1===e?"\u0444\u0435\u0432\u0440\u0430\u043b\u044f":2===e?"\u043c\u0430\u0440\u0442\u0430":3===e?"\u0430\u043f\u0440\u0435\u043b\u044f":4===e?"\u043c\u0430\u044f":5===e?"\u0438\u044e\u043d\u044f":6===e?"\u0438\u044e\u043b\u044f":7===e?"\u0430\u0432\u0433\u0443\u0441\u0442\u0430":8===e?"\u0441\u0435\u043d\u0442\u044f\u0431\u0440\u044f":9===e?"\u043e\u043a\u0442\u044f\u0431\u0440\u044f":10===e?"\u043d\u043e\u044f\u0431\u0440\u044f":"\u0434\u0435\u043a\u0430\u0431\u0440\u044f"},X=function(){var e=Object(u.c)(V),t=Object(l.a)(e,1)[0];return Object(K.jsxs)(f.j,{className:"day_widget",children:[Object(K.jsxs)("div",{children:[Object(K.jsx)(f.M,{level:"1",weight:"heavy",style:{marginBottom:4},children:Y()}),Object(K.jsx)(f.f,{level:"1",weight:"regular",children:t.moon.name})]}),Object(K.jsx)(H.a,{phase:t.moon.phase,size:47,border:"none",darkColor:"var(--background_content)",lightColor:"#FEDF30"})]})},q=a(227),$=function(){var e=Object(b.useRouter)(),t=Object(u.c)(V),a=Object(l.a)(t,2)[1],n=Object(u.c)(z),c=Object(l.a)(n,2)[1];return Object(K.jsx)(f.d,{before:Object(K.jsx)(f.c,{children:Object(K.jsx)(q.a,{fill:"var(--accent)"})}),text:"\u0425\u043e\u0442\u0438\u0442\u0435, \u0447\u0442\u043e\u0431\u044b \u043c\u044b \u043d\u0430\u043f\u043e\u043c\u043d\u0438\u043b\u0438 \u043f\u0440\u043e\u0432\u0435\u0440\u0438\u0442\u044c \u0442\u043e\u043b\u043a\u043e\u0432\u0430\u043d\u0438\u0435 \u0441\u043d\u0430? \u041f\u043e\u0434\u043f\u0438\u0448\u0438\u0442\u0435\u0441\u044c \u043d\u0430 \u0440\u0430\u0441\u0441\u044b\u043b\u043a\u0443!",actions:Object(K.jsx)(o.a.Fragment,{children:Object(K.jsx)(f.e,{onClick:function(){return c(!0),void j.a.send("VKWebAppAllowNotifications").then((function(t){a((function(e){return Object(s.a)(Object(s.a)({},e),{},{notifications:1})})),c(!1),e.pushPopup(C)})).catch((function(e){c(!1),console.log(e)})).finally((function(){c(!1)}))},children:"\u041f\u043e\u0434\u043f\u0438\u0441\u0430\u0442\u044c\u0441\u044f"})})})},Q="https://fapler.ru/api_2/",Z="https://vk.com/app7679683",ee=Object(u.b)({key:"meanState",default:{id:0,name:"",cover:"",large:"",views:{views:0,percent:0},favorite:{id:0,new:!1,status:0,ads:0},result:[]}}),te=function(e){var t=e.list,a=Object(b.useRouter)(),n=Object(u.c)(z),c=Object(l.a)(n,2)[1],o=Object(u.c)(ee),i=Object(l.a)(o,2)[1],r=Object(u.c)(I),s=Object(l.a)(r,2)[1];return Object(K.jsx)(f.u,{children:t.map((function(e,t){return Object(K.jsx)(f.G,{expandable:!0,onClick:function(){return t=e.Name,c(!0),void M.a.get("".concat(Q,"dream/detail/").concat(t),{headers:{sign:btoa(window.location.href)}}).then((function(e){var n=e.data.list;i({name:t,result:n,cover:e.data.cover,large:e.data.large,views:e.data.views,favorite:e.data.favorite,id:e.data.id}),c(!1),a.pushPage(p,{target:t})})).catch((function(e){console.log(e),e.response?401===e.response.status?s(!0):a.pushPopup(S):c(!1)}));var t},children:e.Name},"des_"+t)}))})},ae=function(e){var t=e.mode,a=e.onClick,n=e.count,o=Object(c.useState)(!1),i=Object(l.a)(o,2),r=i[0],s=i[1];return Object(K.jsx)(f.g,{mode:"shadow",className:"".concat("pink"===t?"dream_notes_card":"dream_stat_card"," ").concat(r?"active":""),onClick:function(){return a()},onMouseEnter:function(){return s(!0)},onMouseLeave:function(){return s(!1)},onTouchStart:function(){return s(!0)},onTouchEnd:function(){return s(!1)},children:Object(K.jsxs)("div",{className:"dream_card",children:[Object(K.jsx)(f.f,{level:"1",weight:"medium",style:{marginBottom:6},children:"pink"===t?"\u0421\u043d\u043e\u0432 \u0432 \u0434\u043d\u0435\u0432\u043d\u0438\u043a\u0435:":"\u0422\u043e\u043b\u043a\u043e\u0432\u0430\u043d\u0438\u0439:"}),Object(K.jsx)(f.M,{level:"1",weight:"heavy",children:n})]})})},ne=a(228),ce=function(){var e=Object(b.useRouter)(),t=Object(u.c)(V),a=Object(l.a)(t,2)[1],n=Object(u.c)(z),c=Object(l.a)(n,2)[1];return Object(K.jsx)(f.j,{children:Object(K.jsx)(f.e,{mode:"overlay_outline",stretched:!0,size:"l",before:Object(K.jsx)(ne.a,{}),onClick:function(){return c(!0),void j.a.send("VKWebAppAddToFavorites").then((function(t){a((function(e){return Object(s.a)(Object(s.a)({},e),{},{is_favorite:1})})),c(!1),e.pushPopup(C)})).catch((function(e){c(!1),console.log(e)})).finally((function(){console.log("fatal"),c(!1)}))},children:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0432 \u0438\u0437\u0431\u0440\u0430\u043d\u043d\u043e\u0435"})})},oe=function(e){var t=e.id,a=Object(b.useRouter)(),n=Object(u.c)(z),i=Object(l.a)(n,2)[1],r=Object(u.c)(ee),s=Object(l.a)(r,2)[1],d=Object(u.c)(V),j=Object(l.a)(d,1)[0],h=Object(u.c)(I),O=Object(l.a)(h,2)[1],g=Object(c.useState)(""),m=Object(l.a)(g,2),v=m[0],y=m[1],_=Object(c.useState)([]),P=Object(l.a)(_,2),C=P[0],B=P[1],L=Object(c.useState)(!1),A=Object(l.a)(L,2),N=A[0],F=A[1];Object(c.useEffect)((function(){if(v.length>1){F(!0);var e=M.a.CancelToken.source();function t(){return(t=Object(T.a)(R.a.mark((function t(){var n;return R.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return F(!0),t.prev=1,t.next=4,M.a.get("".concat(Q,"search/found/").concat(v),{cancelToken:e.token,headers:{sign:btoa(window.location.href)}});case 4:200===(n=t.sent).status?(B(n.data.list),F(!1)):401===n.status?O(!0):a.pushPopup(S),t.next=12;break;case 8:t.prev=8,t.t0=t.catch(1),M.a.isCancel(t.t0)?console.log("cancelled"):(401===t.t0.response.status?O(!0):a.pushPopup(S),console.log(t.t0)),F(!1);case 12:case"end":return t.stop()}}),t,null,[[1,8]])})))).apply(this,arguments)}return v&&function(){t.apply(this,arguments)}(),function(){e.cancel("Cancelled due to stale request")}}}),[v]);var E=function e(t){i(!0),M.a.get("".concat(Q,"dream/detail/").concat(t),{headers:{sign:btoa(window.location.href)}}).then((function(e){var n=e.data.list;s({name:t,result:n,cover:e.data.cover,large:e.data.large,views:e.data.views,favorite:e.data.favorite,id:e.data.id}),console.log(e.data),i(!1),a.pushPage(p,{target:t})})).catch((function(n){(i(!1),n.response)?401===n.response.status?O(!0):a.pushPopup(S):e(t)}))};return Object(K.jsxs)(f.v,{id:t,className:"disable_elastic",children:[Object(K.jsx)(f.w,{separator:!1,visor:!1,transparent:!0,fixed:!1,left:Object(K.jsx)(f.y,{onClick:function(){return a.pushPage(w)},children:Object(K.jsx)(D.a,{fill:"#ffffff"})}),style:{zIndex:3},children:"\u0421\u043e\u043d\u043d\u0438\u043a"}),Object(K.jsx)("div",{className:"home_cover"}),Object(K.jsx)(G,{loading:N,value:v,onChange:function(e){y(e)}}),v.length<2?Object(K.jsxs)(o.a.Fragment,{children:[Object(K.jsxs)(f.h,{size:"m",style:{zIndex:12,marginTop:20,marginBottom:14},children:[Object(K.jsx)(ae,{mode:"pink",onClick:function(){return a.pushPage(x)},count:j.notes}),Object(K.jsx)(ae,{mode:"night",onClick:function(){return a.pushPage(k)},count:j.dreams})]}),!j.is_favorite&&Object(K.jsx)(ce,{}),Object(K.jsx)(X,{}),!j.notifications&&Object(K.jsx)($,{}),Object(K.jsx)(f.F,{style:{marginTop:10,marginBottom:10}}),Object(K.jsx)(f.n,{header:Object(K.jsx)(f.o,{mode:"secondary",children:"\u041b\u044e\u0434\u044f\u043c \u0441\u0435\u0433\u043e\u0434\u043d\u044f \u0441\u043d\u0438\u0442\u0441\u044f"}),children:Object(K.jsx)(te,{list:j.random})}),Object(K.jsx)(f.l,{children:"\u0412\u0435\u0440\u0441\u0438\u044f 1.0.6, \u0441\u0431\u043e\u0440\u043a\u0430 1 (native)"})]}):Object(K.jsxs)(f.n,{style:{zIndex:12,marginTop:20,marginBottom:14},children:[Object(K.jsx)(f.o,{mode:"secondary",children:"\u0420\u0435\u0437\u0443\u043b\u044c\u0442\u0430\u0442\u044b \u043f\u043e\u0438\u0441\u043a\u0430"}),Object(K.jsx)(f.u,{children:C.length?Object(K.jsx)(o.a.Fragment,{children:C.map((function(e,t){return Object(K.jsx)(f.G,{expandable:!0,onClick:function(){return E(e.Name)},children:e.Name},t)}))}):Object(K.jsx)(o.a.Fragment,{children:Object(K.jsx)(f.G,{hasActive:!1,hasHover:!1,disabled:!0,children:N?"\u041f\u043e\u0438\u0441\u043a...":"\u041d\u0438\u0447\u0435\u0433\u043e \u043d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d\u043e"})})})]})]})},ie=a(231),re=a(232),se=a(233),le=a(234),de=a(235),je=a(236),ue=a(237),be=a(225),fe=a(224),he=a(230),Oe=function(e){var t=Object(f.P)(),a=Object(b.useRouter)(),n=e.first;return Object(K.jsx)("div",{className:"back_wrapper",children:Object(K.jsx)(f.s,{onClick:function(){n?a.replacePage("/"):a.popPage()},className:"backButton",children:n?Object(K.jsx)(he.a,{}):Object(K.jsx)(o.a.Fragment,{children:t===f.r?Object(K.jsx)(be.a,{}):Object(K.jsx)(fe.a,{})})})})},ge=Object(u.b)({key:"bookState",default:{init:!1,list:[],offset:0,pending:0}}),me=function(e){var t=e.id,a=Object(b.useRouter)(),n=Object(b.useFirstPageCheck)(),i=(Object(b.useParams)().target,Object(u.c)(ee)),r=Object(l.a)(i,2),d=r[0],h=r[1],O=Object(u.c)(z),g=Object(l.a)(O,2)[1],m=Object(u.c)(V),p=Object(l.a)(m,2),v=p[0],x=p[1],y=Object(u.c)(I),k=Object(l.a)(y,2)[1],_=Object(u.c)(ge),w=Object(l.a)(_,2),P=w[0],B=w[1],L=Object(c.useState)(!1),A=Object(l.a)(L,2),F=A[0],R=A[1],T=Object(c.useState)(0),E=Object(l.a)(T,2),D=E[0],W=E[1],G=Object(c.useState)(1),H=Object(l.a)(G,2),J=H[0],Y=H[1],U=Object(u.c)(N),X=Object(l.a)(U,2),q=X[0],$=X[1],te=Object(c.useState)(!0),ae=Object(l.a)(te,2),ne=ae[0],ce=ae[1],oe=Object(c.useState)(!1),be=Object(l.a)(oe,2),fe=be[0],he=be[1],me=Object(c.useState)(!1),pe=Object(l.a)(me,2),ve=pe[0],xe=pe[1],ye=Object(c.useState)(!1),ke=Object(l.a)(ye,2),_e=ke[0],we=ke[1],Pe=Object(c.useState)(0),Se=Object(l.a)(Pe,2),Ce=Se[0],Be=Se[1],Le=Object(c.useState)(0),ze=Object(l.a)(Le,2),Ae=ze[0],Ve=ze[1],Ie=Object(c.useRef)(null),Ne=Object(c.useRef)(null);Object(c.useEffect)((function(){if(Ge(),v.random.length>0)return d.id?d.favorite.new&&We():(we(!0),console.log("search - "+a.getCurrentLocation().getParams().target),Fe(a.getCurrentLocation().getParams().target)),window.addEventListener("scroll",Re,{passive:!0}),function(){window.removeEventListener("scroll",Re)}}),[v.random,d.id]);var Fe=function(e){!function(e){try{return decodeURIComponent(e),!0}catch(t){return!1}}(e)?he(!0):M.a.get("".concat(Q,"dream/detail/").concat(e),{headers:{sign:btoa(window.location.href)}}).then((function(t){var a=t.data.list;h({name:decodeURI(e),result:a,cover:t.data.cover,large:t.data.large,views:t.data.views,favorite:t.data.favorite,id:t.data.id}),t.data.favorite.new&&x((function(e){return Object(s.a)(Object(s.a)({},e),{},{notes:v.notes+1})})),we(!1)})).catch((function(e){var t=e.response.status;401===t?k(!0):400===t?he(!0):a.pushPopup(S)}))},Re=function(){var e,t=window.pageYOffset;e=t>D?1+t/200:1-t/200,W(t),e<=2&&e>=-2&&Y(e)},Te=function(){return d.result.length>1?!(d.favorite.status||!d.favorite.ads||!ne):!(d.favorite.status||!ne)},Ee=function(e){var t=encodeURI("".concat(Z,"#dream/").concat(d.name));j.a.send("VKWebAppShowStoryBox",{background_type:"image",url:e,stickers:[{sticker_type:"renderable",sticker:{can_delete:0,content_type:"image",url:"https://firebasestorage.googleapis.com/v0/b/dreamer-f8280.appspot.com/o/covers%2Fcover_top_2.png?alt=media&token=5fbcf549-9854-4a09-85c6-c8c5d8b10178",transform:{relation_width:1,gravity:"center_top"},clickable_zones:[{action_type:"link",action:{link:t,tooltip_text_key:"tooltip_open_default"}}]}},{sticker_type:"renderable",sticker:{can_delete:0,content_type:"image",url:"https://firebasestorage.googleapis.com/v0/b/dreamer-f8280.appspot.com/o/covers%2Fdialog.png?alt=media&token=1203520a-2952-42a4-8837-a83c1062a434",transform:{relation_width:.6,gravity:"center"},clickable_zones:[{action_type:"link",action:{link:t,tooltip_text_key:"tooltip_open_default"}}]}},{sticker_type:"renderable",sticker:{can_delete:0,content_type:"image",url:"https://firebasestorage.googleapis.com/v0/b/dreamer-f8280.appspot.com/o/covers%2Fbtn_read.png?alt=media&token=5847fd0a-214e-44a5-824d-8c5af3a84ca6",transform:{relation_width:1,gravity:"center_bottom"},clickable_zones:[{action_type:"link",action:{link:t,tooltip_text_key:"tooltip_open_default"}}]}}]}).then((function(e){g(!1),a.pushPopup(C)})).catch((function(e){console.log(e),g(!1)}))},Me=function(){h((function(e){return Object(s.a)(Object(s.a)({},e),{},{favorite:{id:e.favorite.id,new:e.favorite.new,status:0,ads:1}})})),M.a.get("".concat(Q,"dream/ads/").concat(d.favorite.id),{headers:{sign:btoa(window.location.href)}})},De=function(e){g(!0),M.a.get("".concat(Q,"dream/vote/").concat(d.favorite.id,"/").concat(e),{headers:{sign:btoa(window.location.href)}}).then((function(t){if(P.init){var n=Object.assign([],P.list),c=n.findIndex((function(e){return e.name===d.name})),o=Object.assign({},n[c]);o.status=e,n[c]=o,B((function(e){return Object(s.a)(Object(s.a)({},e),{},{list:n,pending:P.pending-1})}))}h((function(a){return Object(s.a)(Object(s.a)({},a),{},{favorite:{id:t.data.id,new:d.favorite.new,status:e,ads:d.favorite.ads}})})),g(!1),e&&h((function(e){return Object(s.a)(Object(s.a)({},e),{},{views:{views:t.data.views,percent:t.data.percent}})})),Ge(),a.pushPopup(C)})).catch((function(e){g(!1),401===e.response.status?k(!0):a.pushPopup(S),Ge()}))},We=function(){if(P.init){var e=Object.assign([],P.list);e.unshift({id:d.id,name:d.name,created:(t=new Date,t.setSeconds(0),t.setMilliseconds(0),parseInt((t.getTime()/1e3).toFixed(0))),status:0}),B((function(t){return Object(s.a)(Object(s.a)({},t),{},{list:e,pending:P.pending+1})}))}var t;x((function(e){return Object(s.a)(Object(s.a)({},e),{},{notes:v.notes+1})}))},Ke=function(){if(P.init){var e=Object.assign([],P.list),t=e.findIndex((function(e){return e.name===d.name})),a=!e[t].status;e.splice(t,1),B((function(t){return Object(s.a)(Object(s.a)({},t),{},{list:e,pending:a?P.pending-1:P.pending})}))}x((function(e){return Object(s.a)(Object(s.a)({},e),{},{notes:v.notes-1})}))},Ge=function(){null!==Ie.current&&(Be(Ie.current.clientHeight),Ve(Ne.current.clientHeight))};return Object(K.jsx)(f.v,{id:t,style:{position:"relative"},children:d.id&&!_e?Object(K.jsxs)(o.a.Fragment,{children:[Object(K.jsx)(Oe,{first:n}),Object(K.jsx)("div",{className:"dream_cover_block",style:{transform:"scale(".concat(J,")"),backgroundImage:'url("'.concat(d.large,'")')}}),Object(K.jsx)("div",{style:{height:100,width:"100%",position:"absolute",marginTop:"calc(270px - var(--safe-area-inset-top))",background:"var(--background_content)",zIndex:3}}),Object(K.jsx)("div",{className:"dream_info_block",style:{zIndex:5},children:Object(K.jsx)(f.n,{children:Object(K.jsx)(f.G,{disabled:!0,hasActive:!1,after:Object(K.jsxs)(o.a.Fragment,{children:[Object(K.jsx)(f.N,{text:"\u042d\u0442\u043e\u0442 \u0441\u043e\u043d \u0434\u043e\u0431\u0430\u0432\u043b\u0435\u043d \u0432 \u0412\u0430\u0448 \u0434\u043d\u0435\u0432\u043d\u0438\u043a \u0441\u043d\u043e\u0432. \u041c\u044b \u0430\u0432\u0442\u043e\u043c\u0430\u0442\u0438\u0447\u0435\u0441\u043a\u0438 \u0441\u043e\u0445\u0440\u0430\u043d\u044f\u0435\u043c \u0438\u0441\u0442\u043e\u0440\u0438\u044e \u0441\u043d\u043e\u0432\u0438\u0434\u0435\u043d\u0438\u0439.",isShown:q,onClose:function(){j.a.send("VKWebAppStorageSet",{key:"onboarding",value:"finish"}).then((function(e){console.log(e),$(!1)})).catch((function(e){console.log(e)}))},children:Object(K.jsx)(f.s,{onClick:function(){return function(){g(!0);var e=ne?"".concat(Q,"dream/remove_from_book/").concat(d.favorite.id):"".concat(Q,"dream/add_to_book/").concat(d.id);M.a.get(e,{headers:{sign:btoa(window.location.href)}}).then((function(e){ne?Ke():(We(),h((function(t){return Object(s.a)(Object(s.a)({},t),{},{favorite:{id:e.data.id,new:!0,status:0,ads:t.favorite.ads}})}))),ce(!ne),g(!1)})).catch((function(e){g(!1),401===e.response.status?k(!0):a.pushPopup(S)}))}()},children:ne?Object(K.jsx)(ie.a,{}):Object(K.jsx)(re.a,{})})}),Object(K.jsx)(f.s,{onClick:function(){return function(){var e=encodeURI("".concat(Z,"#dream/").concat(d.name));j.a.send("VKWebAppShare",{link:e}).then((function(e){console.log(e)})).catch((function(e){console.log(e)}))}()},children:Object(K.jsx)(se.a,{})})]}),description:Object(K.jsxs)(o.a.Fragment,{children:[Object(K.jsxs)("div",{style:{marginBottom:8},children:[d.views.views,2===d.views.views||3===d.views.views||4===d.views.views?" \u0440\u0430\u0437\u0430":" \u0440\u0430\u0437"," \u0443\u0432\u0438\u0434\u0435\u043b\u0438 \u0432\u043e \u0441\u043d\u0430\u0445"]}),Object(K.jsx)(f.C,{value:d.views.percent,style:{width:"50vw",marginBottom:4}}),Object(K.jsxs)(f.f,{level:"2",weight:"medium",style:{color:"var(--text_primary)"},children:["\u0423 ",d.views.percent,"% \u0441\u043e\u043d \u0441\u0431\u044b\u043b\u0441\u044f"]})]}),children:Object(K.jsx)(f.M,{level:"1",weight:"semibold",className:"short_string",children:d.name})})})}),Object(K.jsx)("div",{ref:Ie,style:{minHeight:"calc(100vh - 270px - var(--safe-area-inset-top) - 80px + 44px)",marginBottom:function(){if(d.id&&!_e){var e=Ce-Ae;if(!F&&!d.favorite.ads&&d.result.length>1)return e<=40;if(Te())return e<=40}return console.log("empty "),!1}()?40:0},className:"text_dream_block",children:Object(K.jsxs)("div",{ref:Ne,children:[Object(K.jsx)(f.j,{style:{marginTop:12},children:Object(K.jsx)(f.e,{size:"l",before:Object(K.jsx)(le.a,{}),stretched:!0,loading:ve,onClick:function(){return xe(!0),void M.a.get("".concat(Q,"dream/story/").concat(d.name),{headers:{sign:btoa(window.location.href)}}).then((function(e){var t=e.data.image;xe(!1),Ee(t)})).catch((function(e){xe(!1),401===e.response.status?k(!0):a.pushPopup(S)}))},children:"\u0420\u0430\u0441\u0441\u043a\u0430\u0437\u0430\u0442\u044c \u0432 \u0438\u0441\u0442\u043e\u0440\u0438\u0438"})}),!F&&!d.favorite.ads&&d.result.length>1?Object(K.jsxs)(o.a.Fragment,{children:[Object(K.jsxs)(f.j,{children:[Object(K.jsx)(f.M,{level:"2",weight:"semibold",style:{marginBottom:16},children:d.result[0].author}),Object(K.jsx)(f.L,{weight:"regular",children:d.result[0].mean})]}),Object(K.jsx)(f.I,{separator:!0,size:16})]}):Object(K.jsx)(o.a.Fragment,{children:d.result.map((function(e,t){return Object(K.jsxs)(o.a.Fragment,{children:[Object(K.jsxs)(f.j,{children:[Object(K.jsx)(f.M,{level:"2",weight:"semibold",style:{marginBottom:16},children:e.author}),Object(K.jsx)(f.L,{weight:"regular",children:e.mean})]}),t+1!==d.result.length&&Object(K.jsx)(f.I,{separator:!0,size:16})]},t)}))})]})}),!F&&!d.favorite.ads&&d.result.length>1?Object(K.jsx)(f.k,{vertical:"bottom",children:Object(K.jsx)(f.j,{style:{display:"flex",justifyContent:"center"},children:Object(K.jsxs)(f.e,{size:"l",mode:"commerce",onClick:function(){j.a.send("VKWebAppShowNativeAds",{ad_format:"preloader"}).then((function(){R(!0),Ge(),Me()})).catch((function(){R(!0),Ge(),Me()}))},children:["\u0415\u0449\u0451 \u0437\u043d\u0430\u0447\u0435\u043d\u0438\u044f",Object(K.jsx)("br",{}),Object(K.jsx)(f.f,{level:"3",weight:"regular",children:"\u043f\u043e\u0441\u043b\u0435 \u043f\u0440\u043e\u0441\u043c\u043e\u0442\u0440\u0430 \u0440\u0435\u043a\u043b\u0430\u043c\u044b"})]})})}):null,Te()?Object(K.jsx)(f.k,{vertical:"bottom",children:Object(K.jsxs)(f.j,{style:{display:"flex"},children:[Object(K.jsx)(f.e,{size:"m",stretched:!0,mode:"commerce",before:Object(K.jsx)(de.a,{}),style:{marginRight:8},onClick:function(){return De(1)},children:"\u0421\u0431\u044b\u043b\u043e\u0441\u044c"}),Object(K.jsx)(f.e,{before:Object(K.jsx)(je.a,{fill:"var(--dynamic_red)"}),size:"m",stretched:!0,onClick:function(){return De(2)},children:"\u041d\u0435 \u0441\u0431\u044b\u043b\u043e\u0441\u044c"})]})}):null]}):Object(K.jsx)(o.a.Fragment,{children:fe?Object(K.jsxs)(f.A,{icon:Object(K.jsx)(ue.a,{}),stretched:!0,action:Object(K.jsx)(f.e,{size:"m",onClick:function(){return a.replacePage("/")},children:"\u041f\u0435\u0440\u0435\u0439\u0442\u0438 \u043d\u0430 \u0433\u043b\u0430\u0432\u043d\u0443\u044e"}),children:["\u0422\u043e\u043b\u043a\u043e\u0432\u0430\u043d\u0438\u0435 \u0441\u043d\u0430 \u043d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d\u043e.",Object(K.jsx)("br",{})," \u041f\u0440\u043e\u0432\u0435\u0440\u044c\u0442\u0435 \u043f\u043e\u0438\u0441\u043a\u043e\u0432\u044b\u0439 \u0437\u0430\u043f\u0440\u043e\u0441!"]}):Object(K.jsx)("div",{style:{height:"100vh",display:"flex",justifyContent:"center",alignItems:"center"},children:Object(K.jsxs)("div",{children:[Object(K.jsx)(f.J,{size:"large",style:{marginBottom:16}}),Object(K.jsx)(f.K,{weight:"regular",children:"\u041f\u043e\u0438\u0441\u043a \u0441\u043d\u0430"})]})})})})},pe=a(39),ve=a(239),xe=a(240),ye=a(238),ke=function(e){var t=e.count;return Object(K.jsx)(f.d,{before:Object(K.jsx)(f.c,{size:28,style:{background:"var(--dynamic_orange)"},children:Object(K.jsx)(ye.a,{fill:"#ffffff"})}),header:Object(K.jsxs)("span",{children:["\u0421\u043d\u043e\u0432 \u043d\u0430 \u043f\u0440\u043e\u0432\u0435\u0440\u043a\u0435 - ",t]}),subheader:'\u0421\u0431\u044b\u043b\u043e\u0441\u044c \u0438\u043b\u0438 \u043d\u0435 \u0441\u0431\u044b\u043b\u043e\u0441\u044c? \u041f\u0435\u0440\u0435\u0439\u0434\u0438\u0442\u0435 \u0432 \u0441\u043e\u043d, \u043e\u0442\u043c\u0435\u0447\u0435\u043d\u043d\u044b\u0439 \u0437\u043d\u0430\u0447\u043a\u043e\u043c "\u0447\u0430\u0441\u044b", \u0438 \u043f\u0440\u043e\u0433\u043e\u043b\u043e\u0441\u0443\u0439\u0442\u0435!'})},_e=function(e){var t=e.id,a=Object(b.useRouter)(),n=Object(u.c)(z),i=Object(l.a)(n,2)[1],r=Object(u.c)(ee),d=Object(l.a)(r,2)[1],j=Object(u.c)(I),h=Object(l.a)(j,2)[1],O=Object(u.c)(ge),g=Object(l.a)(O,2),m=g[0],v=g[1],x=Object(c.useState)(!1),y=Object(l.a)(x,2),k=y[0],_=y[1],w=Object(c.useState)(!0),P=Object(l.a)(w,2),C=P[0],B=P[1];Object(c.useEffect)((function(){m.init||(v((function(e){return Object(s.a)(Object(s.a)({},e),{},{init:!0})})),L(!0))}),[]);var L=function(e){e&&_(!0),M.a.get("".concat(Q,"dream/favorites/").concat(m.offset),{headers:{sign:btoa(window.location.href)}}).then((function(e){var t=m.offset+20,a=e.data.list;a.length<20&&B(!1);var n=Object.assign([],m.list);a.forEach((function(e){n.push({id:e.id,name:e.name,created:e.created,status:e.status})})),v((function(a){return Object(s.a)(Object(s.a)({},a),{},{list:n,offset:t,pending:e.data.pending})})),_(!1)})).catch((function(e){_(!1),401===e.response.status?h(!0):a.pushPopup(S)}))};return Object(K.jsxs)(f.v,{id:t,children:[Object(K.jsx)(f.w,{left:Object(K.jsx)(f.x,{onClick:function(){return a.popPage()}}),className:"panel_header_main",children:"\u0414\u043d\u0435\u0432\u043d\u0438\u043a \u0441\u043d\u043e\u0432"}),k?Object(K.jsx)(f.z,{}):Object(K.jsx)(o.a.Fragment,{children:m.list.length?Object(K.jsxs)(f.n,{children:[m.pending>0&&Object(K.jsx)(ke,{count:m.pending}),Object(K.jsx)(f.u,{children:Object(K.jsx)(pe.a,{dataLength:m.list.length,next:function(){return L(!1)},hasMore:C,loader:Object(K.jsx)("div",{style:{display:"flex",alignItems:"center",flexDirection:"column",marginTop:10,marginBottom:10},children:Object(K.jsx)(f.J,{size:"small"})}),endMessage:null,children:m.list.map((function(e,t){return Object(K.jsx)(f.G,{expandable:!0,before:Object(K.jsx)(f.c,{size:48,children:e.status?1===e.status?Object(K.jsx)(de.a,{fill:"var(--button_commerce_background)"}):Object(K.jsx)(je.a,{fill:"var(--dynamic_red)"}):Object(K.jsx)(xe.a,{})}),description:J(e.created),onClick:function(){return t=e.name,i(!0),void M.a.get("".concat(Q,"dream/detail/").concat(t),{headers:{sign:btoa(window.location.href)}}).then((function(e){var n=e.data.list;d({name:t,result:n,cover:e.data.cover,large:e.data.large,views:e.data.views,favorite:e.data.favorite,id:e.data.id}),i(!1),a.pushPage(p,{target:t})})).catch((function(e){e.response?401===e.response.status?h(!0):a.pushPopup(S):i(!1)}));var t},children:e.name},t)}))})})]}):Object(K.jsxs)(f.A,{icon:Object(K.jsx)(ve.a,{}),stretched:!0,children:["\u0417\u0434\u0435\u0441\u044c \u0445\u0440\u0430\u043d\u0438\u0442\u0441\u044f \u0438\u0441\u0442\u043e\u0440\u0438\u044f",Object(K.jsx)("br",{}),"\u0441\u043d\u043e\u0432\u0438\u0434\u0435\u043d\u0438\u0439"]})})]})},we=function(){return Object(K.jsx)(f.E,{})},Pe=a(241),Se=a(242),Ce=a(243),Be=function(e){var t=e.id,a=Object(b.useRouter)(),n=Object(f.P)(),c=Object(u.c)(A),o=Object(l.a)(c,2),i=o[0],r=o[1],s=function(e){e!==i&&j.a.send("VKWebAppStorageSet",{key:"theme",value:e}).then((function(t){"maroon_overlay"===i?document.body.classList.remove("maroon_body"):"black_overlay"===i?document.body.classList.remove("black_body"):"darkslategray_overlay"===i?document.body.classList.remove("darkslategray_body"):document.body.classList.remove("blue_body"),r(e);var a="#203377";""!==e&&(r(e),"maroon_overlay"===e?(a="#250029",document.body.classList.add("maroon_body")):"black_overlay"===e?(document.body.classList.add("black_body"),a="#0b071e"):"darkslategray_overlay"===e?(document.body.classList.add("darkslategray_body"),a="#3e4067"):document.body.classList.add("blue_body")),j.a.send("VKWebAppSetViewSettings",{status_bar_style:"light",action_bar_color:a})})).catch((function(e){console.log(e)}))};return Object(K.jsxs)(f.v,{id:t,children:[Object(K.jsx)(f.w,{left:Object(K.jsx)(f.y,{onClick:function(){return a.popPage()},children:n===f.r?Object(K.jsx)(Pe.a,{}):Object(K.jsx)(Se.a,{})}),children:"\u0422\u0435\u043c\u0430"}),Object(K.jsxs)(f.n,{children:[Object(K.jsxs)(f.h,{size:"m",children:[Object(K.jsx)(f.g,{mode:"outline",style:{backgroundImage:"url('https://dreamer_vkma.hb.bizmrg.com/static/covers/blue_mini.jpg')"},className:"theme_card ".concat("blue_overlay"===i&&"active"),onClick:function(){return s("blue_overlay")},children:"blue_overlay"===i&&Object(K.jsx)(Ce.a,{fill:"var(--button_commerce_background)",style:{position:"absolute",right:12,top:12}})}),Object(K.jsx)(f.g,{mode:"outline",style:{backgroundImage:"url('https://dreamer_vkma.hb.bizmrg.com/static/covers/darkslategray_mini.jpg')"},className:"theme_card ".concat("darkslategray_overlay"===i&&"active"),onClick:function(){return s("darkslategray_overlay")},children:"darkslategray_overlay"===i&&Object(K.jsx)(Ce.a,{fill:"var(--button_commerce_background)",style:{position:"absolute",right:12,top:12}})})]}),Object(K.jsxs)(f.h,{size:"m",children:[Object(K.jsx)(f.g,{mode:"outline",style:{backgroundImage:"url('https://dreamer_vkma.hb.bizmrg.com/static/covers/maroon_mini.jpg')"},className:"theme_card ".concat("maroon_overlay"===i&&"active"),onClick:function(){return s("maroon_overlay")},children:"maroon_overlay"===i&&Object(K.jsx)(Ce.a,{fill:"var(--button_commerce_background)",style:{position:"absolute",right:12,top:12}})}),Object(K.jsx)(f.g,{mode:"outline",style:{backgroundImage:"url('https://dreamer_vkma.hb.bizmrg.com/static/covers/black_mini.jpg')"},className:"theme_card ".concat("black_overlay"===i&&"active"),onClick:function(){return s("black_overlay")},children:"black_overlay"===i&&Object(K.jsx)(Ce.a,{fill:"var(--button_commerce_background)",style:{position:"absolute",right:12,top:12}})})]})]})]})},Le=a(83),ze=a(85),Ae=a.t(ze,2),Ve=function(){var e=Object(b.useRouter)();return Object(c.useEffect)((function(){setTimeout((function(){return e.popPage()}),1e3)}),[]),Object(K.jsx)(f.B,{alignY:"center",alignX:"center",children:Object(K.jsx)("div",{className:"popout_success",children:Object(K.jsx)(Le.a,{loop:!0,animationData:Ae,play:!0,style:{width:56,height:56}})})})},Ie=["\u0410","\u0411","\u0412","\u0413","\u0414","\u0415","\u0416","\u0417","\u0418","\u0419","\u041a","\u041b","\u041c","\u041d","\u041e","\u041f","\u0420","\u0421","\u0422","\u0423","\u0424","\u0425","\u0426","\u0427","\u0428","\u0429","\u042e","\u042f"],Ne=Object(u.b)({key:"catalogState",default:{init:!1,list:[],offset:0,active:0,loading:!0}}),Fe=function(e){var t=e.id,a=Object(b.useRouter)(),n=Object(u.c)(z),o=Object(l.a)(n,2)[1],i=Object(u.c)(ee),r=Object(l.a)(i,2)[1],d=Object(u.c)(I),j=Object(l.a)(d,2)[1],h=Object(u.c)(Ne),O=Object(l.a)(h,2),g=O[0],m=O[1],v=Object(c.useState)(!0),x=Object(l.a)(v,2),y=x[0],k=x[1];Object(c.useEffect)((function(){g.init?_(!1):(m((function(e){return Object(s.a)(Object(s.a)({},e),{},{init:!0})})),_(!0))}),[g.active]);var _=function(e){e&&m((function(e){return Object(s.a)(Object(s.a)({},e),{},{loading:!0})})),M.a.get("".concat(Q,"search/list/").concat(Ie[g.active],"/").concat(g.offset),{headers:{sign:btoa(window.location.href)}}).then((function(e){var t=e.data.list,a=g.offset+20;t.length<20&&k(!1);var n=Object.assign([],g.list);t.forEach((function(e){n.push({name:e.Name})})),m((function(e){return Object(s.a)(Object(s.a)({},e),{},{list:n,offset:a})})),m((function(e){return Object(s.a)(Object(s.a)({},e),{},{loading:!1})}))})).catch((function(e){(m((function(e){return Object(s.a)(Object(s.a)({},e),{},{loading:!1})})),e.response)?401===e.response.status?j(!0):a.pushPopup(S):o(!1)}))};return Object(K.jsxs)(f.v,{id:t,children:[Object(K.jsx)(f.w,{left:Object(K.jsx)(f.x,{onClick:function(){return a.popPage()}}),children:"\u0421\u043f\u0440\u0430\u0432\u043e\u0447\u043d\u0438\u043a"}),Object(K.jsx)(f.k,{vertical:"top",filled:!0,children:Object(K.jsx)(f.q,{showArrows:!0,getScrollToLeft:function(e){return e-120},getScrollToRight:function(e){return e+120},children:Object(K.jsx)("div",{style:{display:"flex"},children:Ie.map((function(e,t){return Object(K.jsx)(f.p,{onClick:function(){return function(e){m((function(t){return Object(s.a)(Object(s.a)({},t),{},{active:e,list:[],offset:0,loading:!0})})),k(!0)}(t)},children:Object(K.jsx)(f.c,{size:32,style:{fontWeight:500,background:g.active===t?"var(--accent)":"var(--placeholder_icon_background)"},children:Object(K.jsx)("div",{style:{color:g.active===t?"#ffffff":"var(--accent)"},children:e})})},t)}))})})}),Object(K.jsx)(f.n,{style:{paddingTop:40},children:g.loading?Object(K.jsx)(f.z,{}):Object(K.jsx)(f.n,{children:Object(K.jsx)(f.u,{children:Object(K.jsx)(pe.a,{dataLength:g.list.length,next:function(){return _(!1)},hasMore:y,loader:Object(K.jsx)("div",{style:{display:"flex",alignItems:"center",flexDirection:"column",marginTop:10,marginBottom:10},children:Object(K.jsx)(f.J,{size:"small"})}),endMessage:null,children:g.list.map((function(e,t){return Object(K.jsx)(f.G,{expandable:!0,onClick:function(){return t=e.name,o(!0),void M.a.get("".concat(Q,"dream/detail/").concat(t),{headers:{sign:btoa(window.location.href)}}).then((function(e){var n=e.data.list;r({name:t,result:n,cover:e.data.cover,large:e.data.large,views:e.data.views,favorite:e.data.favorite,id:e.data.id}),o(!1),a.pushPage(p,{target:t})})).catch((function(e){o(!1),401===e.response.status?j(!0):a.pushPopup(S)}));var t},children:e.name},"des_"+t)}))})})})})]})},Re=a(244),Te=function(){return Object(K.jsx)(f.B,{alignY:"center",alignX:"center",className:"blur_overlay",children:Object(K.jsxs)("div",{className:"safe_padding",children:[Object(K.jsx)(Re.a,{style:{marginBottom:16}}),Object(K.jsx)(f.M,{level:"1",weight:"semibold",style:{marginBottom:16},children:"\u041e\u0448\u0438\u0431\u043a\u0430"}),Object(K.jsx)(f.L,{weight:"regular",style:{marginBottom:16},children:"\u041d\u0435\u0432\u0435\u0440\u043e\u044f\u0442\u043d\u043e, \u043d\u043e \u0432 \u0434\u043e\u0441\u0442\u0443\u043f\u0435 \u043e\u0442\u043a\u0430\u0437\u0430\u043d\u043e! \u041f\u0435\u0440\u0435\u0437\u0430\u043f\u0443\u0441\u0442\u0438\u0442\u0435 \u043f\u0440\u0438\u043b\u043e\u0436\u0435\u043d\u0438\u0435 \u0438\u043b\u0438 \u043e\u0431\u0440\u0430\u0442\u0438\u0442\u0435\u0441\u044c \u0432 \u043f\u043e\u0434\u0434\u0435\u0440\u0436\u043a\u0443!"})]})})},Ee=a(245),Me=function(){var e=Object(b.useRouter)();return Object(K.jsx)(f.H,{onClose:function(){return e.popPage()},before:Object(K.jsx)(f.c,{size:24,style:{background:"var(--destructive)"},children:Object(K.jsx)(Ee.a,{fill:"#fff",width:14,height:14})}),children:"\u041d\u0435 \u0443\u0434\u0430\u043b\u043e\u0441\u044c \u0432\u044b\u043f\u043e\u043b\u043d\u0438\u0442\u044c \u0437\u0430\u043f\u0440\u043e\u0441! \u041f\u043e\u0436\u0430\u043b\u0443\u0439\u0441\u0442\u0430, \u043f\u043e\u0432\u0442\u043e\u0440\u0438\u0442\u0435 \u043f\u043e\u043f\u044b\u0442\u043a\u0443 \u0438\u043b\u0438 \u043e\u0431\u0440\u0430\u0442\u0438\u0442\u0435\u0441\u044c \u0432 \u043f\u043e\u0434\u0434\u0435\u0440\u0436\u043a\u0443!"})},De=a(246),We=function(){return Object(K.jsx)(f.B,{alignY:"center",alignX:"center",className:"blur_overlay",children:Object(K.jsxs)("div",{className:"safe_padding",children:[Object(K.jsx)(De.a,{style:{marginBottom:16}}),Object(K.jsx)(f.M,{level:"1",weight:"semibold",style:{marginBottom:16},children:"\u041e\u0448\u0438\u0431\u043a\u0430"}),Object(K.jsx)(f.L,{weight:"regular",style:{marginBottom:16},children:"\u041d\u0435 \u0443\u0434\u0430\u043b\u043e\u0441\u044c \u043f\u043e\u0434\u043a\u043b\u044e\u0447\u0438\u0442\u044c\u0441\u044f \u043a \u0438\u043d\u0442\u0435\u0440\u043d\u0435\u0442\u0443. \u041f\u0440\u043e\u0432\u0435\u0440\u044c\u0442\u0435 \u0441\u043e\u0435\u0434\u0438\u043d\u0435\u043d\u0438\u0435 \u0441 \u0441\u0435\u0442\u044c\u044e!"})]})})},Ke=function(){var e=Object(b.useLocation)(),t=Object(b.useRouter)(),a=Object(u.c)(z),n=Object(l.a)(a,2),o=n[0],i=n[1],r=Object(u.c)(I),d=Object(l.a)(r,2),h=d[0],x=d[1],k=Object(u.c)(A),w=Object(l.a)(k,2),B=w[0],L=w[1],F=Object(u.c)(N),R=Object(l.a)(F,2)[1],T=Object(u.c)(V),E=Object(l.a)(T,2),D=E[0],W=E[1],G=Object(u.c)(ee),H=Object(l.a)(G,2)[1],J=Object(c.useState)(!1),Y=Object(l.a)(J,2),U=Y[0],X=Y[1],q=Object(c.useRef)();q.current=D,Object(c.useEffect)((function(){var e="";j.a.subscribe((function(a){var n=a.detail,c=n.type,o=n.data;if(console.log(c),"VKWebAppChangeFragment"===c&&0!==Object.keys(o).length){var r=o.location.split("/")[1];r!==e&&(console.log("TARGET "+r),e=r,H((function(e){return Object(s.a)(Object(s.a)({},e),{},{id:0})})),t.replacePage(p,{target:r}))}"VKWebAppViewRestore"===c&&(console.log("CALL RESTORE, "+q.current.random.length),$(!1),q.current.random.length||(i(!0),Z()))})),window.addEventListener("online",(function(){return X(!1)})),window.addEventListener("offline",(function(){return X(!0)})),$()}),[]);var $=function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];j.a.send("VKWebAppStorageGet",{keys:["theme","onboarding"]}).then((function(t){var a=t.keys[0].value,n=t.keys[1].value,c="#203377";""!==a&&(L(a),"maroon_overlay"===a?(document.body.classList.add("maroon_body"),c="#250029"):"black_overlay"===a?(document.body.classList.add("black_body"),c="#0b071e"):"darkslategray_overlay"===a?(document.body.classList.add("darkslategray_body"),c="#3e4067"):document.body.classList.add("blue_body")),""!==n&&R(!1),j.a.send("VKWebAppSetViewSettings",{status_bar_style:"light",action_bar_color:c}),e&&Z()})).catch((function(e){console.log(e)}))},Z=function(){console.log("Get starter values"),M.a.get("".concat(Q,"stat/get"),{headers:{sign:btoa(window.location.href)}}).then((function(e){var t=e.data;W({moon:t.moon,notes:t.notes,dreams:t.dreams,notifications:t.notifications,is_favorite:t.is_favorite,random:t.list}),i(!1),setTimeout((function(){return j.a.send("VKWebAppInit")}),500)})).catch((function(e){var a=e.response.status;i(!1),401===a?x(!0):t.pushPopup(S),j.a.send("VKWebAppInit")}))},te=U?Object(K.jsx)(We,{}):h?Object(K.jsx)(Te,{}):o?Object(K.jsx)(we,{}):e.getPopupId()===C?Object(K.jsx)(Ve,{}):e.getPopupId()===S?Object(K.jsx)(Me,{}):void 0;return Object(K.jsx)(f.i,{isWebView:!0,scheme:"space_gray",transitionMotionEnabled:!0,children:Object(K.jsx)(f.a,{children:Object(K.jsx)(f.b,{mode:"full",children:Object(K.jsxs)(f.D,{activeView:e.getViewId(),modal:undefined,popout:te,className:B,children:[Object(K.jsxs)(f.O,{id:O,onSwipeBack:function(){return t.popPage()},history:e.hasOverlay()?[]:e.getViewHistory(O),activePanel:e.getViewActivePanel(O),children:[Object(K.jsx)(oe,{id:m}),Object(K.jsx)(_e,{id:y}),Object(K.jsx)(Fe,{id:_}),Object(K.jsx)(me,{id:v})]}),Object(K.jsx)(f.O,{id:g,onSwipeBack:function(){return t.popPage()},history:e.hasOverlay()?[]:e.getViewHistory(g),activePanel:e.getViewActivePanel(g),children:Object(K.jsx)(Be,{id:P})})]})})})})},Ge=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,247)).then((function(t){var a=t.getCLS,n=t.getFID,c=t.getFCP,o=t.getLCP,i=t.getTTFB;a(e),n(e),c(e),o(e),i(e)}))};a(217),a(218);r.a.render(Object(K.jsx)(b.RouterContext.Provider,{value:L,children:Object(K.jsx)(o.a.StrictMode,{children:Object(K.jsx)(u.a,{children:Object(K.jsx)(Ke,{})})})}),document.getElementById("root")),Ge()},85:function(e){e.exports=JSON.parse('{"v":"5.6.10","fr":60,"ip":0,"op":60,"w":56,"h":56,"nm":"check_circle_outline_animation_56","ddd":0,"assets":[],"layers":[{"ddd":0,"ind":1,"ty":4,"nm":"Check mark","sr":1,"ks":{"o":{"a":0,"k":100,"ix":11},"r":{"a":0,"k":0,"ix":10},"p":{"a":0,"k":[27.5,29,0],"ix":2},"a":{"a":0,"k":[0,0,0],"ix":1},"s":{"a":0,"k":[100,100,100],"ix":6}},"ao":0,"shapes":[{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[0,0],[0,0],[0,0]],"o":[[0,0],[0,0],[0,0]],"v":[[-10.5,0],[-3.5,7],[10.5,-7]],"c":false},"ix":2},"nm":"Path 1","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"st","c":{"a":0,"k":[0.8823529411764706,0.8901960784313725,0.9019607843137255,1],"ix":3},"o":{"a":0,"k":100,"ix":4},"w":{"a":0,"k":3,"ix":5},"lc":2,"lj":2,"bm":0,"nm":"Stroke 1","mn":"ADBE Vector Graphic - Stroke","hd":false},{"ty":"tr","p":{"a":0,"k":[0,0],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Source","np":2,"cix":2,"bm":0,"ix":1,"mn":"ADBE Vector Group","hd":false},{"ty":"tm","s":{"a":0,"k":0,"ix":1},"e":{"a":1,"k":[{"i":{"x":[0.211],"y":[1.003]},"o":{"x":[0.484],"y":[0.42]},"t":25,"s":[0]},{"t":59,"s":[100]}],"ix":2},"o":{"a":0,"k":0,"ix":3},"m":1,"ix":2,"nm":"Trim Paths 1","mn":"ADBE Vector Filter - Trim","hd":false}],"ip":0,"op":60,"st":0,"bm":0},{"ddd":0,"ind":2,"ty":4,"nm":"Circle","sr":1,"ks":{"o":{"a":0,"k":100,"ix":11},"r":{"a":0,"k":0,"ix":10},"p":{"a":0,"k":[28,28,0],"ix":2},"a":{"a":0,"k":[0,0,0],"ix":1},"s":{"a":0,"k":[100,100,100],"ix":6}},"ao":0,"shapes":[{"ty":"gr","it":[{"ty":"rc","d":1,"s":{"a":0,"k":[48,48],"ix":2},"p":{"a":0,"k":[0,0],"ix":3},"r":{"a":0,"k":24,"ix":4},"nm":"Rectangle Path 1","mn":"ADBE Vector Shape - Rect","hd":false},{"ty":"st","c":{"a":0,"k":[0.8823529411764706,0.8901960784313725,0.9019607843137255,1],"ix":3},"o":{"a":0,"k":100,"ix":4},"w":{"a":0,"k":3,"ix":5},"lc":2,"lj":2,"bm":0,"nm":"Stroke 1","mn":"ADBE Vector Graphic - Stroke","hd":false},{"ty":"tr","p":{"a":0,"k":[0,0],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Rectangle","np":2,"cix":2,"bm":0,"ix":1,"mn":"ADBE Vector Group","hd":false},{"ty":"tm","s":{"a":0,"k":0,"ix":1},"e":{"a":1,"k":[{"i":{"x":[0.667],"y":[1]},"o":{"x":[0.333],"y":[0]},"t":0,"s":[0]},{"t":36,"s":[100]}],"ix":2},"o":{"a":0,"k":-90,"ix":3},"m":1,"ix":2,"nm":"Trim Paths 1","mn":"ADBE Vector Filter - Trim","hd":false}],"ip":0,"op":60,"st":0,"bm":0}],"markers":[]}')}},[[219,1,2]]]);
//# sourceMappingURL=main.abbdb434.chunk.js.map